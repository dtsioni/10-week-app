  
  
  <p class="header_link">
    <%= link_to "Create New Post", new_post_path %> |
    <%= link_to "Create New User", new_user_path %> |
    <%= link_to "Show Current Users", users_path %>
  </p>

  <!-- colors -->
  <% color_index = 14 %>
  <% color_char = 'e' %>
  <% flow = false %>
  <!-- post list -->  
  <% @posts_list.each do |post| %>
    <!-- check color hex -->
    <% if color_index == 15 || color_index == 0 then flow = !flow end %>
    <% if color_index >= 10 then color_char = (97 - 10 + color_index).chr else color_char = color_index end%>
    <% if color_index < 10 then color_char = color_index end %>

    <% hex = "3399#{color_char}F" %>
    
    <!-- post header -->
    <div class = "post_list_item_header" style="background:#<%=hex%>" >   

      <div class='left'>

        <p id = "author">
          <%if User.find_by(id: post.user_id) == nil%>
            null
          <%else%>
            <% var = User.find_by(id: post.user_id).username %>
            Author:
            <%= link_to "#{var}", user_path(User.find_by(id: post.user_id)) %>
          <% end %>
        </p>

        <p id = "time">
          Time: <%= post.created_at %>
        </p>

        <p id="subject">
          Subject: <%= post.title %>
        </p>

      </div>


      <div class="links">

        <%= link_to 'Edit Post', edit_post_path(post) %> |
        <%= link_to "Delete Post", post_path(post), method: :delete, data: { confirm: 'Are you sure?' } %> |
        <%= link_to "Add Comment", new_post_comment_path(post.id) %>
       
      </div>
      
      <div class="clear_fix"></div>



    </div>
    <!-- handle flow -->
    <%if flow then color_index += 1 end%>
    <%if !flow then color_index -= 1 end %>


    <!-- post body -->
    <div class = "post_list_item_body">      

      <p class = "post_list_item_body_info" id="body">
        <%= post.body %>
      </p>

    </div>

    <!-- post comments -->
    <% post.comments.each do |comment| %>
      <div class = "comment_header">
        <p class = "comment_header_info" >
          Author: <%=link_to User.find_by(id: comment.user_id).username, User.find_by(id: comment.user_id) %>
          <br>
          <div id="time">
            Time:
            <%= comment.created_at %>
            <% if comment.created_at != comment.updated_at %>
              <div id="edited">
                Last Edited:
                <%= comment.updated_at %>
              </div>
            <% end %> 
          </div>
        </p>
        <div class="links">
          <%= link_to "Edit", edit_post_comment_path(post, comment) %> |
          <%= link_to "Delete", post_comment_path(post, comment), method: :delete, data: {confirm: "Are you sure?"} %> |
          <%= link_to "Reply", new_post_comment_path(post.id) %>
        </div>
        
        <div class="clear_fix"></div>

      </div>

      <div class = "comment_body">
        <p class = "comment_body_info" >
          <%= comment.body %>
        </p>
      </div>

    <% end %>    
  <% end %>

  
